{"ast":null,"code":"var _jsxFileName = \"/Users/victorzenteno/Documents/ReactTraining/Lab3/react-advanced-lab-starter/src/pages/account/Login.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Route, Redirect, useHistory } from \"react-router-dom\";\nimport { Section, Row, Col, TextInput, Icon, Button } from 'react-materialize';\nimport axios from 'axios';\nexport default function Login() {\n  const initialFormData = Object.freeze({\n    email: \"\",\n    password: \"\"\n  });\n  const history = useHistory();\n  const [formData, updateFormData] = React.useState(initialFormData);\n  const [message, setMessage] = useState([]);\n\n  const handleChange = e => {\n    updateFormData({ ...formData,\n      // Trimming any whitespace\n      [e.target.name]: e.target.value.trim()\n    });\n  };\n\n  const setErrorMessage = err => {\n    setMessage(err);\n  };\n\n  const onLoginClick = e => {\n    e.preventDefault();\n    axios.post('http://localhost:5000/api/users/login', {\n      email: formData.email,\n      password: formData.password\n    }).then(function (response) {\n      localStorage.setItem(\"token\", response.data);\n      history.push(\"/dashboard\");\n    }).catch(async function (error) {\n      let data = await message.message;\n      setErrorMessage(data);\n    });\n  };\n\n  useEffect(() => {\n    setErrorMessage();\n  }, []);\n  return /*#__PURE__*/React.createElement(Route, {\n    render: props => localStorage.getItem('token') ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }\n    }) : /*#__PURE__*/React.createElement(Section, {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      s: 12,\n      m: 4,\n      xl: 4,\n      offset: \"m4 xl4\",\n      className: \"z-depth-4 card-panel border-radius-6 login-card bg-opacity-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"header center-align\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }\n    }, \"Login\")), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TextInput, {\n      id: \"email\",\n      name: \"email\",\n      icon: /*#__PURE__*/React.createElement(Icon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 23\n        }\n      }, \"email\"),\n      onChange: handleChange,\n      label: \"Email\",\n      s: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TextInput, {\n      id: \"password\",\n      type: \"password\",\n      name: \"password\",\n      icon: /*#__PURE__*/React.createElement(Icon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 23\n        }\n      }, \"lock_outline\"),\n      onChange: handleChange,\n      label: \"Password\",\n      s: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      s: 12,\n      className: \"input-field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      waves: \"light\",\n      className: \"col s12\",\n      onClick: onLoginClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, \"Login\"))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      s: 12,\n      className: \"error-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: 'red'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, message))))))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  });\n}","map":{"version":3,"sources":["/Users/victorzenteno/Documents/ReactTraining/Lab3/react-advanced-lab-starter/src/pages/account/Login.js"],"names":["React","useEffect","useState","Route","Redirect","useHistory","Section","Row","Col","TextInput","Icon","Button","axios","Login","initialFormData","Object","freeze","email","password","history","formData","updateFormData","message","setMessage","handleChange","e","target","name","value","trim","setErrorMessage","err","onLoginClick","preventDefault","post","then","response","localStorage","setItem","data","push","catch","error","props","getItem","color"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { Route, Redirect, useHistory } from \"react-router-dom\";\nimport { Section, Row, Col, TextInput, Icon, Button } from 'react-materialize';\nimport axios from 'axios';\n\nexport default function Login() {\n  const initialFormData = Object.freeze({\n    email: \"\",\n    password: \"\"\n  });\n  const history = useHistory();\n  const [formData, updateFormData] = React.useState(initialFormData);\n  const [message, setMessage] = useState([]);\n  \n  const handleChange = (e) => {\n    updateFormData({\n      ...formData,\n      // Trimming any whitespace\n      [e.target.name]: e.target.value.trim()\n    });\n  };\n  const setErrorMessage = (err) => {\n    setMessage(err);\n  };\n  const onLoginClick = (e) => {\n    e.preventDefault()\n    axios.post('http://localhost:5000/api/users/login', {\n      email: formData.email,\n      password: formData.password\n    })\n    .then(function (response) {\n      localStorage.setItem(\"token\", response.data);\n      history.push(\"/dashboard\");\n    })\n    .catch(async function (error) {\n      let data = await message.message;\n      setErrorMessage(data);\n    }); \n  };\n  \n  useEffect(() => {\n    setErrorMessage();\n  }, []); \n\n  return (\n    <Route render={props => (\n      localStorage.getItem('token') ?\n          <Redirect to=\"/dashboard\" />\n    : <Section className=\"container\">\n      <Row>\n        <Col\n          s={12}\n          m={4}\n          xl={4}\n          offset=\"m4 xl4\"\n          className=\"z-depth-4 card-panel border-radius-6 login-card bg-opacity-8\"\n        >\n          <div className=\"login-form\">\n            <Row>\n              <h4 className=\"header center-align\">Login</h4>\n            </Row>\n            <Row>\n              <TextInput\n                id=\"email\"\n                name=\"email\"\n                icon={<Icon>email</Icon>}\n                onChange={handleChange}\n                label=\"Email\"\n                s={12}\n              />\n            </Row>\n            <Row>\n              <TextInput\n                id=\"password\"\n                type=\"password\"\n                name=\"password\"\n                icon={<Icon>lock_outline</Icon>}\n                onChange={handleChange}\n                label=\"Password\"\n                s={12}\n              />\n            </Row>\n            <Row>\n              <Col s={12} className=\"input-field\">\n                <Button\n                  waves=\"light\"\n                  className=\"col s12\"\n                  onClick={onLoginClick}\n                >\n                  Login\n                </Button>\n              </Col>\n            </Row>\n            <Row>\n              <Col s={12} className=\"error-message\">\n                <span style={{color: 'red'}}>{message}</span>\n              </Col>\n            </Row>\n          </div>\n        </Col>\n      </Row>\n    </Section>\n    )} />\n  ); \n}\n"]},"metadata":{},"sourceType":"module"}